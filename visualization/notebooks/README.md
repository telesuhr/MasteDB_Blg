# 可視化ノートブック集

BloombergAPIから取得したデータを可視化・分析するJupyterノートブック集です。

## 🚀 推奨ノートブック（完全版）

### 01_copper_analysis_complete.ipynb ⭐️
- **内容**: 銅価格の完全版時系列分析
- **データ**: 334レコードの銅価格データ
- **分析**:
  - LME/SHFE/CMX価格推移
  - 価格相関分析とヒートマップ
  - 30日移動ボラティリティ分析
  - 移動平均線分析（5/20/50/100日）
  - 限月別価格分析
  - 総合サマリーとデータ品質レポート
- **可視化**: Matplotlib静的グラフ + Plotly動的グラフ

## 📁 その他のファイル

### 完全版準備中
- `02_inventory_analysis_complete.ipynb` (準備中)
- `03_tenor_spread_analysis_complete.ipynb` (準備中) 
- `04_comprehensive_dashboard_complete.ipynb` (準備中)

### 廃止予定ファイル
- `*_fixed.ipynb` → 完全版に統合
- オリジナルファイル → データベース接続エラーのため非推奨

## 🔧 使用方法

1. **Jupyter Notebookを起動**:
```bash
cd C:/Users/09848/git/MasteDB_Blg/visualization/notebooks
jupyter notebook
```

2. **推奨ファイルを使用**:
   - `01_copper_analysis_complete.ipynb` を開く
   - セルを順番に実行
   - 自動でデータベース接続テスト実行

## ⚙️ データベース接続設定

- **サーバー**: jcz.database.windows.net ✅
- **データベース**: JCL  
- **接続テスト**: 全ノートブックで自動実行
- **設定ファイル**: ../config/db_config.py

## 📊 データ取得状況

- **銅価格データ**: 2025-06-05 ～ 2025-07-03 （334レコード）
- **LME在庫データ**: 84レコード
- **他取引所在庫**: 41レコード  
- **テナースプレッド**: 105レコード
- **市場指標**: 390レコード

## 🎯 分析機能

### 価格分析
- 現物価格推移チャート
- 日次変動率分析
- 取引所間価格相関

### 統計分析  
- 30日移動ボラティリティ（年率換算）
- 移動平均線分析（5/20/50/100日）
- 移動平均からの乖離率

### 限月分析
- Cash vs 3M Futures
- Generic 1st/2nd Future分析
- 過去30日間の価格分布

### 可視化
- **静的**: Matplotlib + Seaborn
- **動的**: Plotly（ホバー機能付き）
- **相関**: ヒートマップ
- **分布**: ヒストグラム・ボックスプロット

## ⚠️ 注意事項

- データベース接続問題は解決済み
- 文字エンコーディング問題も解決済み
- Bloomberg Terminal接続は自動でテスト実行
- エラーが発生した場合は適切なメッセージを表示

## 📈 今後の予定

1. 在庫分析の完全版作成
2. テナースプレッド分析の完全版作成  
3. 総合ダッシュボードの完全版作成
4. 自動レポート生成機能の追加